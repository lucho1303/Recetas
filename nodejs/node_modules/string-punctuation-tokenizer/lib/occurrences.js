"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.occurrencesInString = exports.occurrenceInString = exports.occurrencesInTokens = exports.occurrenceInTokens = void 0;

var _tokenizers = require("./tokenizers");

/**
 * Gets the occurrence of a subString in a string by using the subString index in the string.
 * @param {Array} tokens
 * @param {Number} currentWordIndex
 * @param {String} subString
 * @return {Object}
 */
var occurrenceInTokens = function occurrenceInTokens(tokens, currentWordIndex, subString) {
  var occurrence = 0;

  for (var i = 0; i <= currentWordIndex; i++) {
    if (tokens[i].token === subString) occurrence++;
  }

  return occurrence;
};
/**
 * Function that count occurrences of a substring in a string
 * @param {Array} tokens - The string to search in
 * @param {String} subString - The sub string to search for
 * @return {Integer} - the count of the occurrences
 */


exports.occurrenceInTokens = occurrenceInTokens;

var occurrencesInTokens = function occurrencesInTokens(tokens, subString) {
  var occurrences = 0;
  tokens.forEach(function (token) {
    if (token && token.token === subString) occurrences++;
  });
  return occurrences;
};
/**
 * Gets the occurrence of a subString in a string by using the subString index in the string.
 * @param {String} text
 * @param {Number} currentWordIndex
 * @param {String} subString
 * @return {Object}
 */


exports.occurrencesInTokens = occurrencesInTokens;

var occurrenceInString = function occurrenceInString(text, currentWordIndex, subString) {
  var tokens = (0, _tokenizers.tokenize)({
    text: text,
    verbose: true
  });
  var occurrence = occurrenceInTokens(tokens, currentWordIndex, subString);
  return occurrence;
};
/**
 * Function that count occurrences of a substring in a string
 * @param {String} text - The string to search in
 * @param {String} subString - The sub string to search for
 * @return {Integer} - the count of the occurrences
 */


exports.occurrenceInString = occurrenceInString;

var occurrencesInString = function occurrencesInString(text, subString) {
  var tokens = (0, _tokenizers.tokenize)({
    text: text,
    verbose: true
  });
  var occurrences = occurrencesInTokens(tokens, subString);
  return occurrences;
};

exports.occurrencesInString = occurrencesInString;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9vY2N1cnJlbmNlcy5qcyJdLCJuYW1lcyI6WyJvY2N1cnJlbmNlSW5Ub2tlbnMiLCJ0b2tlbnMiLCJjdXJyZW50V29yZEluZGV4Iiwic3ViU3RyaW5nIiwib2NjdXJyZW5jZSIsImkiLCJ0b2tlbiIsIm9jY3VycmVuY2VzSW5Ub2tlbnMiLCJvY2N1cnJlbmNlcyIsImZvckVhY2giLCJvY2N1cnJlbmNlSW5TdHJpbmciLCJ0ZXh0IiwidmVyYm9zZSIsIm9jY3VycmVuY2VzSW5TdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7Ozs7OztBQU9PLElBQU1BLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBcUIsQ0FDaENDLE1BRGdDLEVBRWhDQyxnQkFGZ0MsRUFHaENDLFNBSGdDLEVBSTdCO0FBQ0gsTUFBSUMsVUFBVSxHQUFHLENBQWpCOztBQUNBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsSUFBSUgsZ0JBQXJCLEVBQXVDRyxDQUFDLEVBQXhDLEVBQTRDO0FBQzFDLFFBQUlKLE1BQU0sQ0FBQ0ksQ0FBRCxDQUFOLENBQVVDLEtBQVYsS0FBb0JILFNBQXhCLEVBQW1DQyxVQUFVO0FBQzlDOztBQUNELFNBQU9BLFVBQVA7QUFDRCxDQVZNO0FBWVA7Ozs7Ozs7Ozs7QUFNTyxJQUFNRyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQ2pDTixNQURpQyxFQUVqQ0UsU0FGaUMsRUFHOUI7QUFDSCxNQUFJSyxXQUFXLEdBQUcsQ0FBbEI7QUFDQVAsRUFBQUEsTUFBTSxDQUFDUSxPQUFQLENBQWUsVUFBQ0gsS0FBRCxFQUFXO0FBQ3hCLFFBQUlBLEtBQUssSUFBSUEsS0FBSyxDQUFDQSxLQUFOLEtBQWdCSCxTQUE3QixFQUF3Q0ssV0FBVztBQUNwRCxHQUZEO0FBR0EsU0FBT0EsV0FBUDtBQUNELENBVE07QUFXUDs7Ozs7Ozs7Ozs7QUFPTyxJQUFNRSxrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQXFCLENBQ2hDQyxJQURnQyxFQUVoQ1QsZ0JBRmdDLEVBR2hDQyxTQUhnQyxFQUk3QjtBQUNILE1BQU1GLE1BQU0sR0FBRywwQkFBUztBQUFDVSxJQUFBQSxJQUFJLEVBQUpBLElBQUQ7QUFBT0MsSUFBQUEsT0FBTyxFQUFFO0FBQWhCLEdBQVQsQ0FBZjtBQUNBLE1BQU1SLFVBQVUsR0FBR0osa0JBQWtCLENBQUNDLE1BQUQsRUFBU0MsZ0JBQVQsRUFBMkJDLFNBQTNCLENBQXJDO0FBQ0EsU0FBT0MsVUFBUDtBQUNELENBUk07QUFVUDs7Ozs7Ozs7OztBQU1PLElBQU1TLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0IsQ0FDakNGLElBRGlDLEVBRWpDUixTQUZpQyxFQUc5QjtBQUNILE1BQU1GLE1BQU0sR0FBRywwQkFBUztBQUFDVSxJQUFBQSxJQUFJLEVBQUpBLElBQUQ7QUFBT0MsSUFBQUEsT0FBTyxFQUFFO0FBQWhCLEdBQVQsQ0FBZjtBQUNBLE1BQU1KLFdBQVcsR0FBR0QsbUJBQW1CLENBQUNOLE1BQUQsRUFBU0UsU0FBVCxDQUF2QztBQUNBLFNBQU9LLFdBQVA7QUFDRCxDQVBNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt0b2tlbml6ZX0gZnJvbSAnLi90b2tlbml6ZXJzJztcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBvY2N1cnJlbmNlIG9mIGEgc3ViU3RyaW5nIGluIGEgc3RyaW5nIGJ5IHVzaW5nIHRoZSBzdWJTdHJpbmcgaW5kZXggaW4gdGhlIHN0cmluZy5cclxuICogQHBhcmFtIHtBcnJheX0gdG9rZW5zXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjdXJyZW50V29yZEluZGV4XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdWJTdHJpbmdcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG9jY3VycmVuY2VJblRva2VucyA9IChcclxuICB0b2tlbnMsXHJcbiAgY3VycmVudFdvcmRJbmRleCxcclxuICBzdWJTdHJpbmcsXHJcbikgPT4ge1xyXG4gIGxldCBvY2N1cnJlbmNlID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSBjdXJyZW50V29yZEluZGV4OyBpKyspIHtcclxuICAgIGlmICh0b2tlbnNbaV0udG9rZW4gPT09IHN1YlN0cmluZykgb2NjdXJyZW5jZSArKztcclxuICB9XHJcbiAgcmV0dXJuIG9jY3VycmVuY2U7XHJcbn07XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gdGhhdCBjb3VudCBvY2N1cnJlbmNlcyBvZiBhIHN1YnN0cmluZyBpbiBhIHN0cmluZ1xyXG4gKiBAcGFyYW0ge0FycmF5fSB0b2tlbnMgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBpblxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3ViU3RyaW5nIC0gVGhlIHN1YiBzdHJpbmcgdG8gc2VhcmNoIGZvclxyXG4gKiBAcmV0dXJuIHtJbnRlZ2VyfSAtIHRoZSBjb3VudCBvZiB0aGUgb2NjdXJyZW5jZXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBvY2N1cnJlbmNlc0luVG9rZW5zID0gKFxyXG4gIHRva2VucyxcclxuICBzdWJTdHJpbmcsXHJcbikgPT4ge1xyXG4gIGxldCBvY2N1cnJlbmNlcyA9IDA7XHJcbiAgdG9rZW5zLmZvckVhY2goKHRva2VuKSA9PiB7XHJcbiAgICBpZiAodG9rZW4gJiYgdG9rZW4udG9rZW4gPT09IHN1YlN0cmluZykgb2NjdXJyZW5jZXMgKys7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG9jY3VycmVuY2VzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIG9jY3VycmVuY2Ugb2YgYSBzdWJTdHJpbmcgaW4gYSBzdHJpbmcgYnkgdXNpbmcgdGhlIHN1YlN0cmluZyBpbmRleCBpbiB0aGUgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxyXG4gKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFdvcmRJbmRleFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3ViU3RyaW5nXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmV4cG9ydCBjb25zdCBvY2N1cnJlbmNlSW5TdHJpbmcgPSAoXHJcbiAgdGV4dCxcclxuICBjdXJyZW50V29yZEluZGV4LFxyXG4gIHN1YlN0cmluZyxcclxuKSA9PiB7XHJcbiAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoe3RleHQsIHZlcmJvc2U6IHRydWV9KTtcclxuICBjb25zdCBvY2N1cnJlbmNlID0gb2NjdXJyZW5jZUluVG9rZW5zKHRva2VucywgY3VycmVudFdvcmRJbmRleCwgc3ViU3RyaW5nKTtcclxuICByZXR1cm4gb2NjdXJyZW5jZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0aGF0IGNvdW50IG9jY3VycmVuY2VzIG9mIGEgc3Vic3RyaW5nIGluIGEgc3RyaW5nXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0byBzZWFyY2ggaW5cclxuICogQHBhcmFtIHtTdHJpbmd9IHN1YlN0cmluZyAtIFRoZSBzdWIgc3RyaW5nIHRvIHNlYXJjaCBmb3JcclxuICogQHJldHVybiB7SW50ZWdlcn0gLSB0aGUgY291bnQgb2YgdGhlIG9jY3VycmVuY2VzXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgb2NjdXJyZW5jZXNJblN0cmluZyA9IChcclxuICB0ZXh0LFxyXG4gIHN1YlN0cmluZyxcclxuKSA9PiB7XHJcbiAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoe3RleHQsIHZlcmJvc2U6IHRydWV9KTtcclxuICBjb25zdCBvY2N1cnJlbmNlcyA9IG9jY3VycmVuY2VzSW5Ub2tlbnModG9rZW5zLCBzdWJTdHJpbmcpO1xyXG4gIHJldHVybiBvY2N1cnJlbmNlcztcclxufTtcclxuIl19